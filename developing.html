<!doctype html>
<html>
    <head>
        <meta charset="utf-8"></meta>
        <meta http-equiv="X-UA-Compatible" content="chrome=1"></meta>
        <meta name="viewport" content="width=device-width"></meta>
        <!-- favicon from http://findicons.com/icon/445768/blue_lego?id=445922 -->
        <link rel="shortcut icon" type="image/x-icon" href="favicon.ico"></link>
        <title>Shake Build System</title>
        <link rel="stylesheet" href="index.css"></link>



    </head>
    <body class="page-developing">

<div id="header">
    <a href="http://shakebuild.com" id="header-root">Shake build system</a>
    <a href="." id="header-first">Home</a>
    <a href="why">Why Shake</a>
    <a href="manual">Manual</a>
    <a href="faq">FAQ</a>
</div>

<div id="content"><div id="toc"><a class="h3" href="#development-workflow">Development Workflow</a><a class="h3" href="#continuous-integration">Continuous Integration</a><a class="h3" href="#sandboxes">Sandboxes</a></div><h1>Developing Shake</h1>
<p>I welcome contributions. Generally:</p>
<ul><li>Don't spend too much time working on something before raising an issue for it. There might be suggestions I can give, or reasons the work might not be appropriate.</li>
<li>Pull requests are the best way to submit stuff.</li>
</ul>
<span class="target" id="development-workflow"></span><h3><a href="#development-workflow" class="anchor">Development Workflow</a></h3>
<p>You can load Shake up in <code>ghci</code>, starting from the root directory, which has a <code>.ghci</code> file to set things up. Develop, hit <code>:reload</code> to reload, then <code>:test</code> to run the test suite.</p>
<p>Individual test can be run interactively:</p>
<pre>$ :main help
$ :main TEST_NAME test</code></pre>
<p>Replace <code>TEST_NAME</code> with one of the tests listed.</p>
<p>I usually use <a href="https://github.com/ndmitchell/ghcid#readme"><code>ghcid</code></a> when developing Shake.</p>
<span class="target" id="continuous-integration"></span><h3><a href="#continuous-integration" class="anchor">Continuous Integration</a></h3>
<p>Shake is currently tested by on Linux by <a href="https://travis-ci.org/ndmitchell/shake">Travis</a>, and on Windows by <a href="https://ci.appveyor.com/project/ndmitchell/shake">Appveyor</a>. The tests are designed to be aggressively comprehensive (testing things like performance and that documentation all type checks), so while they usually pass, do not be overly concerned if they are failing or if your patch breaks a test - serious issues will be spotted very quickly.</p>
<span class="target" id="sandboxes"></span><h3><a href="#sandboxes" class="anchor">Sandboxes</a></h3>
<p>The tests do things like recompilation, which isn't particularly Cabal sandbox friendly. You can run some tests in the sandbox by doing:</p>
<pre>$ cabal sandbox init
$ cabal install --only-dependencies
$ cabal repl <a href="https://hackage.haskell.org/package/shake/docs/Development-Shake.html#v:shake">shake</a>-test
$ :main TEST_NAME test --no-report</code></pre>
</div><p id="footer">
    Questions? Feedback?
    <a href="https://groups.google.com/forum/?fromgroups#!forum/shake-build-system">Email us</a>.
    Collaborate through <a href="https://github.com/ndmitchell/shake">GitHub</a>.
    Ask at <a href="https://stackoverflow.com/questions/tagged/shake-build-system">StackOverflow</a>.
</p>

<script>
(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
ga('create', 'UA-286191-4', 'auto');
ga('send', 'pageview');
</script>

</body>
</html>
